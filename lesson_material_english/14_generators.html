
<!DOCTYPE html>


<html lang="de" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>22. Generators / Iterators &#8212; Introduction to Programming with Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=91fba89f"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/translations.js?v=79cc9f76"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lesson_material_english/14_generators';</script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Source Code on GitHub" href="github.html" />
    <link rel="prev" title="21. Python Debugging" href="10_debugging.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="de"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="cover.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/cover_logo_mini.png" class="logo__image only-light" alt="Introduction to Programming with Python - Home"/>
    <script>document.write(`<img src="../_static/cover_logo_mini.png" class="logo__image only-dark" alt="Introduction to Programming with Python - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Suche" aria-label="Suche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Suche</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="cover.html">
                    Introduction to Python for Data Science
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="00_introduction.html">1. Programming for Data Science and Artificial Intelligence</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_first_steps.html">2. Getting Started with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_data_types.html">3. Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_variables.html">4. Variables</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Functions and Modules</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="02_control_structures_conditions_loop.html">5. Control Structures and Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_functions.html">6. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_import_libraries_modules.html">7. Importing from Libraries/Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_special_functions.html">8. Special Functions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Types &amp; String Handling</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="04_datatypes_2.html">9. Data Types II</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_string_handling.html">10. String Handling</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Error Handling und Best Practices I</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="05_error_handling.html">11. Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_one_step_back-best_practices.html">12. Clean Code and Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_open_files.html">13. Reading and Writing Files</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Of Classes and Objects</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="06_classes_objects.html">14. Object-Oriented Programming - Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_classes_objects_2.html">15. Object-oriented programming in Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Working with Numerical Data - Numpy</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="08_numpy.html">16. Numerical Data in Python with NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_numpy_2.html">17. Numerical Data in Python with NumPy - Part 2</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">First Steps towards Data Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="09_pandas.html">18. Pandas!</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_pandas_2.html">19. Pandas - Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_data_visualization.html">20. Data visualization with Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">A few missing things</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="10_debugging.html">21. Python Debugging</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">22. Generators / Iterators</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Source Code and Contributions</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="github.html">Source Code on GitHub</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/florian-huber/python-introduction" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Quell-Repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/florian-huber/python-introduction/issues/new?title=Issue%20on%20page%20%2Flesson_material_english/14_generators.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Öffnen Sie ein Problem"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Laden Sie diese Seite herunter">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lesson_material_english/14_generators.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Quelldatei herunterladen"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="In PDF drucken"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Vollbildmodus"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Suche" aria-label="Suche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Generators / Iterators</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Inhalt </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iterators">22.1. Iterators</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-the-point">22.1.1. What’s the point?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generators">22.2. Generators</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-city-name-generator">22.2.1. Example: city name generator</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#infinite-sequences">22.2.2. Infinite sequences</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="generators-iterators">
<h1><span class="section-number">22. </span>Generators / Iterators<a class="headerlink" href="#generators-iterators" title="Link to this heading">#</a></h1>
<p>Let’s start with a short quiz question:</p>
<p>When a Pandas DataFrame has been created (e.g. by importing a.csv file with <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code>), where are the values of the DataFrame stored?</p>
<blockquote>
<div><p>(a) In the folder I am currently working in.
(b) In a temporary folder on the hard disk.
(c) In the main memory.
(d) In the processor memory (cache).</p>
</div></blockquote>
<p>For those who are a little familiar with the structure of a computer, this is easy to answer. And yet it was not an issue for us when programming with Python. However, this is becoming increasingly important for further steps. The data, like all variables that we create in the Python interpreter, is stored in the main memory. This is good and right and has not been a problem that we had to worry about so far.</p>
<p>However, the more we look at really big data, the more important this topic will become. This is because the main memory is fast, but very limited in scope. This means that in many cases, it can lead to problems if we want to store too much data in the main memory at the same time.</p>
<p>One way to deal with this better is to use generators. These offer the possibility to only load (or generate) as much data as is currently needed. But before we get to generators, let’s start with a more general variant, the iterator.</p>
<section id="iterators">
<h2><span class="section-number">22.1. </span>Iterators<a class="headerlink" href="#iterators" title="Link to this heading">#</a></h2>
<p>In Python, iterators are objects that can iterate through a sequence of values. They make it possible to iterate over a series of elements in a for loop without having to know the exact number of elements in advance. An iterator object must implement the iterator protocol, which defines the <strong>iter</strong>() and <strong>next</strong>() methods.</p>
<p>The <strong>iter</strong>() method returns the iterator object itself and is called automatically when a for loop is started. The <strong>next</strong>() method returns the next element in the sequence and is called automatically when the for loop requests the next element. If there is no next element, a StopIteration exception is raised.</p>
<p>An example of how to use iterators is to use the built-in <code class="docutils literal notranslate"><span class="pre">iter()</span></code> function on a list or tuple:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">iterator</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">iterator</span><span class="p">))</span> <span class="c1"># 1</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">iterator</span><span class="p">))</span> <span class="c1"># 2</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">iterator</span><span class="p">))</span> <span class="c1"># 3</span>
</pre></div>
</div>
<p>In this example, the iter() function is used to create an iterator for the numbers list. The iterator is stored in the variable iterator. The next() function is used to query the next element in the iterator, which is then output.</p>
<section id="what-s-the-point">
<h3><span class="section-number">22.1.1. </span>What’s the point?<a class="headerlink" href="#what-s-the-point" title="Link to this heading">#</a></h3>
<p>At first glance, it may not be immediately clear what the iterator concept brings to this example. After all, we could just as easily use a for loop for this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
<p>An iterator is not really useful if you just want to replace a for loop. However, it offers the possibility of extracting individual elements and also remembers where we left off. The real added value of iterators becomes particularly apparent with so-called generators.</p>
</section>
</section>
<section id="generators">
<h2><span class="section-number">22.2. </span>Generators<a class="headerlink" href="#generators" title="Link to this heading">#</a></h2>
<p>Generators (generators) are special iterators that are created in Python using the yield statement. They make it possible to create an iterator without having to store the entire sequence in memory. Instead, only the values that are currently needed are created. This makes generators particularly useful for processing large amounts of data or for processing infinite sequences.</p>
<p>In Python, generators are easy to create and are defined almost exactly like we have been defining functions, with the important exception that we use <code class="docutils literal notranslate"><span class="pre">yield</span></code> instead of <code class="docutils literal notranslate"><span class="pre">return</span></code>.
The expression <code class="docutils literal notranslate"><span class="pre">yield</span></code>, just like return, returns values when it is reached in the code. Unlike <code class="docutils literal notranslate"><span class="pre">return</span></code>, however, a function call does not end at the <code class="docutils literal notranslate"><span class="pre">yield</span></code> but continues with the following call after it (e.g. via a <code class="docutils literal notranslate"><span class="pre">next()</span></code>). Here is a short example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># A simple generator function</span>
<span class="k">def</span><span class="w"> </span><span class="nf">my_generator</span><span class="p">():</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This is printed first&#39;</span><span class="p">)</span>
    <span class="c1"># Generator function contains yield statements</span>
    <span class="k">yield</span> <span class="n">n</span>

    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This is printed second&#39;</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">n</span>

    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This is printed at last&#39;</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">n</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">my_generator</span><span class="p">()</span>
<span class="nb">next</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<section id="example-city-name-generator">
<h3><span class="section-number">22.2.1. </span>Example: city name generator<a class="headerlink" href="#example-city-name-generator" title="Link to this heading">#</a></h3>
<p>Let’s imagine we want to generate a large number of city names (e.g. for a game). We can do this in the usual way with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="k">def</span><span class="w"> </span><span class="nf">city_name_generator</span><span class="p">():</span>
    <span class="n">beginnings</span> <span class="o">=</span> <span class="p">[</span><span class="err">“</span><span class="n">Upper</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Lower</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Old</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">New</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Small</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">King</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Gold</span><span class="err">”</span><span class="p">]</span>
    <span class="n">middle</span> <span class="o">=</span> <span class="p">[</span><span class="err">“</span><span class="n">river</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">lake</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">forest</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">meadow</span><span class="err">”</span><span class="p">],</span>
    <span class="n">endings</span> <span class="o">=</span> <span class="p">[</span><span class="err">“</span><span class="n">house</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">home</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">engine</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">village</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">town</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">brook</span><span class="err">”</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">beginnings</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">middle</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">endings</span><span class="p">)</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">city_name_generator</span><span class="p">())</span>
</pre></div>
</div>
<p>But this only gives me random combinations, so there may be a lot of duplicates.</p>
<p>How can we turn this into a real Python generator?
One possibility would be as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">city_name_generator</span><span class="p">():</span>
    <span class="n">beginnings</span> <span class="o">=</span> <span class="p">[</span><span class="err">“</span><span class="n">Ober</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Unter</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Alt</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Neu</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Klein</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Königs</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">Gold</span><span class="err">”</span><span class="p">]</span>
    <span class="n">middle</span> <span class="o">=</span> <span class="p">[</span><span class="err">“”</span><span class="p">,</span> <span class="err">“</span><span class="n">stream</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">lake</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">forest</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">meadow</span><span class="err">”</span><span class="p">,</span> <span class="err">“”</span><span class="p">,</span> <span class="err">“”</span><span class="p">]</span>
    <span class="n">endings</span> <span class="o">=</span> <span class="p">[</span><span class="err">“</span><span class="n">house</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">home</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">engine</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">village</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">town</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="n">brook</span><span class="err">”</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">beginnings</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">middle</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">endings</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>

<span class="n">city</span> <span class="o">=</span> <span class="n">city_name_generator</span><span class="p">()</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">city</span><span class="p">))</span> 
</pre></div>
</div>
<p>But also by using <code class="docutils literal notranslate"><span class="pre">list()</span></code> to convert all elements into a list:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a new instance of the generator to start with beginning</span>
<span class="n">city</span> <span class="o">=</span> <span class="n">city_name_generator</span><span class="p">()</span>
<span class="n">all_cities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">city</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="infinite-sequences">
<h3><span class="section-number">22.2.2. </span>Infinite sequences<a class="headerlink" href="#infinite-sequences" title="Link to this heading">#</a></h3>
<p>Another use case for generators is infinite sequences. Here is a simple example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">all_seventh</span><span class="p">():</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">n</span>
        <span class="n">n</span> <span class="o">+=</span> <span class="mi">7</span>

<span class="n">seventh</span> <span class="o">=</span> <span class="n">all_seventh</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">seventh</span><span class="p">))</span>
</pre></div>
</div>
<p>With each <code class="docutils literal notranslate"><span class="pre">next()</span></code>, the generator goes through the series of sevens for as long as we want. However, only the requested elements are calculated, making the generator very efficient here.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lesson_material_english"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="10_debugging.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">zurück</p>
        <p class="prev-next-title"><span class="section-number">21. </span>Python Debugging</p>
      </div>
    </a>
    <a class="right-next"
       href="github.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">weiter</p>
        <p class="prev-next-title">Source Code on GitHub</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Inhalt
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iterators">22.1. Iterators</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-the-point">22.1.1. What’s the point?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generators">22.2. Generators</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-city-name-generator">22.2.1. Example: city name generator</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#infinite-sequences">22.2.2. Infinite sequences</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Durch Florian Huber
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>